# CONFIG_ZMK_STUDIO_LOCKING=n
# CONFIG_ZMK_POINTING=y
# CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y
# CONFIG_PAW3222=y
# CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y
# # オートマウスレイヤーのタイムアウト時間
# # CONFIG_PMW3610_AUTOMOUSE_TIMEOUT_MS=100000

# CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# CONFIG_BT_GATT_NOTIFY_MULTIPLE=y
# CONFIG_BT_GATT_NOTIFY_QUEUE_SIZE=10
# CONFIG_ZMK_BLE_MIN_CONN_INTERVAL=6
# CONFIG_ZMK_BLE_MAX_CONN_INTERVAL=9


# ZMK Configuration File - Optimized for Pointing Device and BLE Stability

# --- 基本機能 (必須) ---
CONFIG_ZMK_STUDIO_LOCKING=n
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y
CONFIG_PAW3222=y
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y

# Pointing機能の依存関係（以前のエラー対策）
CONFIG_ZMK_POINTER_DRIVER=y
CONFIG_ZMK_MOUSE_INPUT_PROCESSORS=y
CONFIG_ZMK_POINTING_INPUT_OVERRIDE=y

# --- BLE接続の安定化と低遅延化 ---
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# Zephyr標準の接続パラメータを使用
# コメントは行末に記述せず、単独行に記述すること
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=9
CONFIG_BT_PERIPHERAL_PREF_SLAVE_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# GATT通知の最適化
CONFIG_BT_GATT_NOTIFY_MULTIPLE=y
# CONFIG_BT_GATT_NOTIFY_QUEUE_SIZE はZephyr 3.5で廃止済みのため削除

# --- マウスレポートレート（代替案） ---
# ZMK v3.5では CONFIG_ZMK_MOUSE_REPORT_RATE_HZ は存在しない可能性が高いです。
# 代わりに、ZMKが提供するポーリングレート設定を使用します。
CONFIG_ZMK_MOUSE_POLLING_RATE_MS=4 # 250Hz相当 (4ms)
CONFIG_ZMK_MOUSE_REPORT_MOVEMENT_THRESHOLD=0

# --- 処理スレッド優先度の設定（カクつき対策） ---
# トラックボールの処理優先度を上げて安定性を確保（値が小さいほど高優先度）
CONFIG_ZMK_POINTING_THREAD_PRIORITY=3
CONFIG_ZMK_INPUT_PROCESSOR_THREAD_PRIORITY=3

# --- 削除した設定の理由 ---
# 1. CONFIG_BT_CONN_INTERVAL_MIN/MAX/TIMEOUT
#    -> BT_PERIPHERAL_PREF_MIN/MAX/TIMEOUT で代替されています。

# 2. CONFIG_ZMK_MOUSE_REPORT_RATE_HZ
#    -> CONFIG_ZMK_MOUSE_POLLING_RATE_MS=4 で代替しました。