# --- 必須機能の有効化と役割定義 ---
# ZMK Studioのリモートロック機能を無効化（通常nのまま）
CONFIG_ZMK_STUDIO_LOCKING=n 
# ポインティングデバイス（トラックボールなど）サポートを有効化
CONFIG_ZMK_POINTING=y 
# スクロール動作をより滑らかにする機能を有効化
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=y 
# 使用するポインティングデバイスドライバ（PixArt PAW3222）を有効化
CONFIG_PAW3222=y 
# このハーフ（右側を想定）をホストと通信するセントラル（親）として定義
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=y 

# --- BLE接続の安定性向上 ---
# 接続の安定性を高めるための実験的なBLE接続設定を有効化
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
# 分割キーボード間の通信を高速化 (2Mbps PHY)
CONFIG_BT_CTLR_PHY_2M=y

# --- Bluetooth レポートキューの最適化 (カクつき改善) ---
# マウス移動データを含むキーボードHIDレポートのキューサイズを増加
# 急な操作によるデータ破棄を防ぎ、カクつきを抑える
# デフォルト 20
CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=90
# CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=70
# コンシューマーレポート（メディアキーなど）のキューサイズを増加
# 全体の安定性と応答性を向上させる
# デフォルト 5
CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=5
# CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=5

# --- BLE スレッド優先度の向上 (処理落ち防止) ---
# Bluetooth通知スレッドの優先度を上げて、マウスデータのホストへの送信を最優先にする
# (値が小さいほど高優先度、デフォルトは5)
CONFIG_ZMK_BLE_THREAD_PRIORITY=3

# Bluetoothスレッドのメモリ（スタック）を増強（安定性向上）
CONFIG_ZMK_BLE_THREAD_STACK_SIZE=4096
# CONFIG_ZMK_BLE_THREAD_STACK_SIZE=2048
# ヒープメモリプールのサイズを増強（安定性向上）
CONFIG_HEAP_MEM_POOL_SIZE=16384

# --- 通信間隔の短縮 (低遅延化のコア設定) ---
# Bluetooth接続間隔を最短に近い値に設定 (カクつき/遅延の解消に極めて重要)
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=9
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Eager Debounce (デバウンス間隔を 0 に設定し、遅延を最小化)
# CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=0
# CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=0

# ファームウェア起動時 に、キーボード内に保存されている全てのBluetoothペアリング情報（ボンド情報）を削除 する機能を有効
# CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=y

# システム構成
# https://zmk.dev/docs/config/syste